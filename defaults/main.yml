k8s_kubeconfig: ~/.kube/config

# k8s_cluster_name will be used in places like a hostname for Papertrail and
# a display name for NewRelic
k8s_cluster_name: "{{ k8s_context }}"

k8s_hosting_services_project_name: ""
k8s_hosting_services_aws_secret_access_key: ""
k8s_hosting_services_database_url: ""
k8s_hosting_services_healthcheck_url: ""

k8s_hosting_services_enabled: true
k8s_hosting_services_name: backup-job
k8s_hosting_services_namespace: hosting-services
k8s_hosting_services_environment:
  PROJECT_NAME: "{{ k8s_hosting_services_project_name }}"
  BACKUP_BASE_BUCKET: caktus-hosting-services-backups
  AWS_DEFAULT_REGION: us-east-1
  AWS_ACCESS_KEY_ID: AKIAY4HLSP7PECOHWU7P
  AWS_SECRET_ACCESS_KEY: "{{ k8s_hosting_services_aws_secret_access_key }}"
  DATABASE_URL: "{{ k8s_hosting_services_database_url }}"
  BACKUP_HEALTHCHECK_URL: "{{ k8s_hosting_services_healthcheck_url }}"
k8s_hosting_services_image: ghcr.io/caktus/k8s-caktus-backup
k8s_hosting_services_image_tag: 0.0.4
k8s_hosting_services_image_pull_policy: IfNotPresent
k8s_hosting_services_resources:
  requests:
    memory: "100Mi"
    cpu: "50m"
k8s_hosting_services_cron_schedules:
  - label: daily
    schedule: "@daily"
  - label: weekly
    schedule: "@weekly"
  - label: monthly
    schedule: "@monthly"
  - label: yearly
    schedule: "@yearly"

k8s_papertrail_logspout_enabled: "{{ k8s_papertrail_logspout_destination | length > 0 }}"
k8s_papertrail_logspout_destination: ''  # format: syslog+tls://logsN.papertrailapp.com:XXXXX
k8s_papertrail_logspout_syslog_hostname: "{{ k8s_cluster_name }}"
k8s_papertrail_logspout_syslog_tag: '{% raw %}{{ index .Container.Config.Labels "io.kubernetes.pod.namespace" }}[{{ index .Container.Config.Labels "io.kubernetes.pod.name" }}]{% endraw %}'
k8s_papertrail_logspout_namespace: 'default'  # This namespace must exist already.
k8s_papertrail_logspout_memory_request: 50Mi
k8s_papertrail_logspout_memory_limit: 500Mi

k8s_newrelic_enabled: "{{ k8s_newrelic_license_key | string | length > 0 }}"
# Found under "the latest supported version"
# https://docs.newrelic.com/docs/integrations/kubernetes-integration/installation/kubernetes-installation-configuration#install
k8s_newrelic_kube_state_metrics_version: "v1.7.2"
k8s_newrelic_cluster_name: "{{ k8s_cluster_name }}"
k8s_newrelic_license_key: ""
